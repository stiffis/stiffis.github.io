@import 'tailwindcss';
@plugin '@tailwindcss/forms';
@plugin '@tailwindcss/typography';

/* Fix scrollbar jump by always showing vertical scrollbar */
html {
	overflow-y: scroll;
}

/*
  Theming via CSS variables
  - Themes applied by setting `data-theme` on <html>
  - Generic variables drive component styles and Tailwind overrides
*/

/* Default theme if none set: Catppuccin Latte */
:root,
html[data-theme='catppuccin-latte'] {
	--c-base: #eff1f5;
	--c-surface: #e6e9ef;
	--c-text: #4c4f69;
	--c-subtext1: #5c5f77;
	--c-subtext0: #6c6f85;
	--c-accent: #1e66f5;
	--c-accent-hover: #1a56d6;
	/* hues */
	--c-blue: #1e66f5;
	--c-blue-600: #1e66f5;
	--c-blue-700: #1a56d6;
	--c-blue-800: #1545b3;
	--c-green: #40a02b;
	--c-green-600: #40a02b;
	--c-green-700: #358725;
	--c-green-800: #2b6e1f;
	--c-yellow: #df8e1d;
	--c-yellow-600: #df8e1d;
	--c-yellow-700: #c07a19;
	--c-yellow-800: #a16615;
	--c-orange: #fe640b;
	--c-orange-600: #fe640b;
	--c-orange-700: #d95609;
	--c-orange-800: #b44907;
	--c-red: #d20f39;
	--c-red-600: #d20f39;
	--c-red-700: #b20d31;
	--c-red-800: #920a29;
	--c-purple: #8839ef;
	--c-purple-600: #8839ef;
	--c-purple-700: #732ed1;
	--c-purple-800: #5e25b3;
	--c-indigo: #7287fd;
	--c-indigo-600: #7287fd;
	--c-indigo-700: #5b6ee0;
	--c-indigo-800: #4959bb;
	--c-cyan: #04a5e5;
	--c-cyan-600: #04a5e5;
	--c-cyan-700: #048ec7;
	--c-cyan-800: #0377a8;
	--c-teal: #179299;
	--c-teal-600: #179299;
	--c-teal-700: #147e84;
	--c-teal-800: #116a70;
}

/* Catppuccin Mocha */
html[data-theme='catppuccin-mocha'] {
	--c-base: #1e1e2e;
	--c-surface: #313244;
	--c-text: #cdd6f4;
	--c-subtext1: #bac2de;
	--c-subtext0: #a6adc8;
	--c-accent: #89b4fa;
	--c-accent-hover: #b4befe;
	/* hues */
	--c-blue: #89b4fa;
	--c-blue-600: #89b4fa;
	--c-blue-700: #7aa2f7;
	--c-blue-800: #6c8ef2;
	--c-green: #a6e3a1;
	--c-green-600: #a6e3a1;
	--c-green-700: #94d18f;
	--c-green-800: #80be7b;
	--c-yellow: #f9e2af;
	--c-yellow-600: #f9e2af;
	--c-yellow-700: #e8d19e;
	--c-yellow-800: #d6bf8c;
	--c-orange: #fab387;
	--c-orange-600: #fab387;
	--c-orange-700: #e59d73;
	--c-orange-800: #cf8760;
	--c-red: #f38ba8;
	--c-red-600: #f38ba8;
	--c-red-700: #e17893;
	--c-red-800: #cd6580;
	--c-purple: #cba6f7;
	--c-purple-600: #cba6f7;
	--c-purple-700: #b693e3;
	--c-purple-800: #a280cf;
	--c-indigo: #b4befe;
	--c-indigo-600: #b4befe;
	--c-indigo-700: #9fa9ea;
	--c-indigo-800: #8a95d5;
	--c-cyan: #74c7ec;
	--c-cyan-600: #74c7ec;
	--c-cyan-700: #66b3d6;
	--c-cyan-800: #589fc0;
	--c-teal: #94e2d5;
	--c-teal-600: #94e2d5;
	--c-teal-700: #83cfc2;
	--c-teal-800: #72bbb0;
}

/* Gruvbox Light */
html[data-theme='gruvbox-light'] {
	--c-base: #fbf1c7;
	--c-surface: #ebdbb2;
	--c-text: #3c3836;
	--c-subtext1: #504945;
	--c-subtext0: #665c54;
	--c-accent: #458588;
	--c-accent-hover: #076678;
	/* hues */
	--c-blue: #458588;
	--c-blue-600: #458588;
	--c-blue-700: #3c7477;
	--c-blue-800: #325f61;
	--c-green: #98971a;
	--c-green-600: #98971a;
	--c-green-700: #7f7e16;
	--c-green-800: #676712;
	--c-yellow: #d79921;
	--c-yellow-600: #d79921;
	--c-yellow-700: #bf841c;
	--c-yellow-800: #a66f17;
	--c-orange: #d65d0e;
	--c-orange-600: #d65d0e;
	--c-orange-700: #bd510c;
	--c-orange-800: #a2450a;
	--c-red: #cc241d;
	--c-red-600: #cc241d;
	--c-red-700: #b11f19;
	--c-red-800: #951a15;
	--c-purple: #b16286;
	--c-purple-600: #b16286;
	--c-purple-700: #995474;
	--c-purple-800: #824863;
	--c-indigo: #5f81a5;
	--c-indigo-600: #5f81a5;
	--c-indigo-700: #526f8e;
	--c-indigo-800: #465e77;
	--c-cyan: #83a598;
	--c-cyan-600: #83a598;
	--c-cyan-700: #6f8f83;
	--c-cyan-800: #5c776d;
	--c-teal: #8ec07c;
	--c-teal-600: #8ec07c;
	--c-teal-700: #78a46a;
	--c-teal-800: #628958;
}

/* Gruvbox Dark */
html[data-theme='gruvbox-dark'] {
	--c-base: #282828;
	--c-surface: #3c3836;
	--c-text: #ebdbb2;
	--c-subtext1: #d5c4a1;
	--c-subtext0: #bdae93;
	--c-accent: #83a598;
	--c-accent-hover: #689d6a;
	/* hues */
	--c-blue: #83a598;
	--c-blue-600: #83a598;
	--c-blue-700: #6f8f83;
	--c-blue-800: #5c776d;
	--c-green: #b8bb26;
	--c-green-600: #b8bb26;
	--c-green-700: #a0a320;
	--c-green-800: #878a1b;
	--c-yellow: #fabd2f;
	--c-yellow-600: #fabd2f;
	--c-yellow-700: #e0a72a;
	--c-yellow-800: #c69224;
	--c-orange: #fe8019;
	--c-orange-600: #fe8019;
	--c-orange-700: #e67116;
	--c-orange-800: #c96012;
	--c-red: #fb4934;
	--c-red-600: #fb4934;
	--c-red-700: #e3402e;
	--c-red-800: #c73727;
	--c-purple: #d3869b;
	--c-purple-600: #d3869b;
	--c-purple-700: #bb7386;
	--c-purple-800: #a06272;
	--c-indigo: #83a598;
	--c-indigo-600: #83a598;
	--c-indigo-700: #718e85;
	--c-indigo-800: #607a72;
	--c-cyan: #83a598;
	--c-cyan-600: #83a598;
	--c-cyan-700: #6f8f83;
	--c-cyan-800: #5c776d;
	--c-teal: #8ec07c;
	--c-teal-600: #8ec07c;
	--c-teal-700: #799a6a;
	--c-teal-800: #658057;
}

/* Kanagawa (dark) */
html[data-theme='kanagawa'] {
	--c-base: #1f1f28;
	--c-surface: #2a2a37;
	--c-text: #dcd7ba;
	--c-subtext1: #c8c093;
	--c-subtext0: #a6a69c;
	--c-accent: #7e9cd8;
	--c-accent-hover: #9ab8e2;
	/* hues */
	--c-blue: #7e9cd8;
	--c-blue-600: #7e9cd8;
	--c-blue-700: #6f89c1;
	--c-blue-800: #5f76a7;
	--c-green: #98bb6c;
	--c-green-600: #98bb6c;
	--c-green-700: #83a35c;
	--c-green-800: #6e8a4d;
	--c-yellow: #e6c384;
	--c-yellow-600: #e6c384;
	--c-yellow-700: #d1b176;
	--c-yellow-800: #bb9e67;
	--c-orange: #ffa066;
	--c-orange-600: #ffa066;
	--c-orange-700: #e58f5b;
	--c-orange-800: #cc7d50;
	--c-red: #e46876;
	--c-red-600: #e46876;
	--c-red-700: #cc5c69;
	--c-red-800: #b3505c;
	--c-purple: #957fb8;
	--c-purple-600: #957fb8;
	--c-purple-700: #816da1;
	--c-purple-800: #6d5b89;
	--c-indigo: #7aa2f7;
	--c-indigo-600: #7aa2f7;
	--c-indigo-700: #6a8ee0;
	--c-indigo-800: #5a79c8;
	--c-cyan: #7fb4ca;
	--c-cyan-600: #7fb4ca;
	--c-cyan-700: #6fa0b2;
	--c-cyan-800: #5f8c99;
	--c-teal: #7aa89f;
	--c-teal-600: #7aa89f;
	--c-teal-700: #68968e;
	--c-teal-800: #587f79;
}

/* Respect system preference on first load if no theme saved */
@media (prefers-color-scheme: dark) {
	:root:not([data-theme]) {
		--c-base: #1e1e2e;
		--c-surface: #313244;
		--c-text: #cdd6f4;
		--c-subtext1: #bac2de;
		--c-subtext0: #a6adc8;
		--c-accent: #89b4fa;
		--c-accent-hover: #b4befe;
	}
}

/* Base theming */
:root {
	--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
}

body {
	background-color: var(--c-base);
	color: var(--c-text);
	font-family: var(--font-mono);
}

/* Tailwind utility remaps to theme variables */
/* Backgrounds */
.bg-gray-50 { background-color: var(--c-base) !important; }
.bg-white { background-color: var(--c-surface) !important; }
.bg-blue-600 { background-color: var(--c-accent) !important; }
.hover\:bg-blue-700:hover { background-color: var(--c-accent-hover) !important; }
.bg-blue-50 { background-color: color-mix(in srgb, var(--c-accent) 12%, transparent) !important; }
.hover\:bg-blue-50:hover { background-color: color-mix(in srgb, var(--c-accent) 20%, transparent) !important; }

/* Neutral grays */
.bg-gray-100 { background-color: color-mix(in srgb, var(--c-text) 8%, var(--c-base)) !important; }
.bg-gray-200 { background-color: color-mix(in srgb, var(--c-text) 14%, var(--c-base)) !important; }
.bg-gray-700 { background-color: color-mix(in srgb, var(--c-text) 65%, var(--c-base)) !important; }
.hover\:bg-gray-800:hover { background-color: color-mix(in srgb, var(--c-text) 75%, var(--c-base)) !important; }

/* Themed hue backgrounds (100/200) */
.bg-orange-100 { background-color: color-mix(in srgb, var(--c-orange) 15%, var(--c-base)) !important; }
.hover\:bg-orange-200:hover { background-color: color-mix(in srgb, var(--c-orange) 25%, var(--c-base)) !important; }
.bg-blue-100 { background-color: color-mix(in srgb, var(--c-blue) 15%, var(--c-base)) !important; }
.hover\:bg-blue-200:hover { background-color: color-mix(in srgb, var(--c-blue) 25%, var(--c-base)) !important; }
.bg-yellow-100 { background-color: color-mix(in srgb, var(--c-yellow) 18%, var(--c-base)) !important; }
.hover\:bg-yellow-200:hover { background-color: color-mix(in srgb, var(--c-yellow) 28%, var(--c-base)) !important; }
.bg-cyan-100 { background-color: color-mix(in srgb, var(--c-cyan) 15%, var(--c-base)) !important; }
.hover\:bg-cyan-200:hover { background-color: color-mix(in srgb, var(--c-cyan) 25%, var(--c-base)) !important; }
.bg-green-100 { background-color: color-mix(in srgb, var(--c-green) 15%, var(--c-base)) !important; }
.hover\:bg-green-200:hover { background-color: color-mix(in srgb, var(--c-green) 25%, var(--c-base)) !important; }
.bg-red-100 { background-color: color-mix(in srgb, var(--c-red) 15%, var(--c-base)) !important; }
.hover\:bg-red-200:hover { background-color: color-mix(in srgb, var(--c-red) 25%, var(--c-base)) !important; }
.bg-purple-100 { background-color: color-mix(in srgb, var(--c-purple) 15%, var(--c-base)) !important; }
.hover\:bg-purple-200:hover { background-color: color-mix(in srgb, var(--c-purple) 25%, var(--c-base)) !important; }
.bg-teal-100 { background-color: color-mix(in srgb, var(--c-teal) 15%, var(--c-base)) !important; }
.hover\:bg-teal-200:hover { background-color: color-mix(in srgb, var(--c-teal) 25%, var(--c-base)) !important; }
.bg-indigo-100 { background-color: color-mix(in srgb, var(--c-indigo) 15%, var(--c-base)) !important; }
.hover\:bg-indigo-200:hover { background-color: color-mix(in srgb, var(--c-indigo) 25%, var(--c-base)) !important; }

/* Borders */
.border-blue-600 { border-color: var(--c-accent) !important; }

/* Text colors */
.text-gray-900 { color: var(--c-text) !important; }
.text-gray-800 { color: color-mix(in srgb, var(--c-text) 90%, var(--c-base)) !important; }
.text-gray-700 { color: var(--c-subtext1) !important; }
.text-gray-600 { color: var(--c-subtext0) !important; }
.text-gray-200 { color: color-mix(in srgb, var(--c-text) 20%, var(--c-base)) !important; }
.text-gray-100 { color: color-mix(in srgb, var(--c-text) 12%, var(--c-base)) !important; }
.text-blue-600 { color: var(--c-blue-600) !important; }
.text-blue-700 { color: var(--c-blue-700) !important; }
.text-blue-800 { color: var(--c-blue-800) !important; }
.hover\:text-blue-600:hover { color: var(--c-accent) !important; }

/* Terminal Vibe */
.terminal-bg {
	position: relative;
	background: var(--c-base);
	background-image:
		repeating-linear-gradient(
			to bottom,
			rgba(0, 0, 0, 0.04),
			rgba(0, 0, 0, 0.04) 1px,
			transparent 1px,
			transparent 3px
		),
		repeating-linear-gradient(
			to right,
			rgba(255, 255, 255, 0.02),
			rgba(255, 255, 255, 0.02) 1px,
			transparent 1px,
			transparent 3px
		);
}

.terminal-bg::after {
	content: '';
	position: absolute;
	inset: 0;
	pointer-events: none;
	background: radial-gradient(ellipse at top, rgba(255,255,255,0.04), transparent 60%),
			linear-gradient(to bottom, rgba(0,0,0,0.06), transparent 30%);
	mix-blend-mode: overlay;
}

.nav-terminal {
	border-bottom: 1px solid color-mix(in srgb, var(--c-accent) 30%, transparent);
	background-color: color-mix(in srgb, var(--c-accent) 6%, var(--c-surface));
	box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
}

.prompt {
	color: var(--c-accent);
	margin-right: 0.25rem;
}

.cursor-blink::after {
	content: 'â–Ž';
	margin-left: 2px;
	color: var(--c-accent);
	animation: blink 1.2s steps(2, start) infinite;
}

@keyframes blink {
	0%, 49% { opacity: 1; }
	50%, 100% { opacity: 0; }
}

/* Generic terminal panel */
.panel {
	border: 1px solid color-mix(in srgb, var(--c-text) 20%, var(--c-base));
	background-color: color-mix(in srgb, var(--c-text) 4%, var(--c-surface));
	box-shadow: inset 0 0 0 1px rgba(255,255,255,0.03), 0 0 0 1px rgba(0,0,0,0.03);
	border-radius: 0.5rem;
}

/* Buttons with terminal look */
.btn-terminal {
	border: 1px solid var(--c-accent);
	color: var(--c-accent);
	background-color: color-mix(in srgb, var(--c-accent) 10%, transparent);
	padding: 0.5rem 0.75rem;
	border-radius: 0.375rem;
	transition: background-color 120ms ease, color 120ms ease, border-color 120ms ease;
}
.btn-terminal:hover {
	background-color: color-mix(in srgb, var(--c-accent) 20%, transparent);
}

pre, code, kbd, samp {
	background-color: color-mix(in srgb, var(--c-text) 6%, var(--c-surface));
	border: 1px solid color-mix(in srgb, var(--c-text) 18%, var(--c-base));
	border-radius: 0.375rem;
	padding: 0.15rem 0.35rem;
	font-family: var(--font-mono);
}

h1, h2, h3, h4 {
	text-shadow: 0 0 6px color-mix(in srgb, var(--c-accent) 20%, transparent);
}

/* Card border without overriding background */
.card-terminal {
	border: 1px solid color-mix(in srgb, var(--c-text) 20%, var(--c-base));
	box-shadow: inset 0 0 0 1px rgba(255,255,255,0.03), 0 0 0 1px rgba(0,0,0,0.03);
	border-radius: 0.5rem;
}

/* Status bar */
.statusbar {
	position: fixed;
	left: 0;
	right: 0;
	bottom: 0;
	height: 2rem;
	display: grid;
	grid-template-columns: auto 1fr auto;
	align-items: stretch;
	font-size: 0.875rem;
	background: color-mix(in srgb, var(--c-accent) 8%, var(--c-surface));
	color: var(--c-text);
	border-top: 1px solid color-mix(in srgb, var(--c-accent) 30%, transparent);
	box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
	z-index: 50;
}
.statusbar .sb-left,
.statusbar .sb-center,
.statusbar .sb-right {
	display: flex;
	align-items: center;
	gap: 0.25rem;
	padding: 0 0.5rem;
}
.statusbar .seg {
	display: inline-flex;
	align-items: center;
	padding: 0 0.5rem;
	height: 100%;
	border-left: 1px solid color-mix(in srgb, var(--c-text) 12%, var(--c-base));
	background: color-mix(in srgb, var(--c-text) 6%, var(--c-surface));
}
.statusbar .seg.clickable { cursor: pointer; }
.statusbar .seg.clickable:hover {
	background: color-mix(in srgb, var(--c-accent) 12%, var(--c-surface));
}
.statusbar .seg-mode {
	background: var(--c-accent);
	color: var(--c-base);
	border-left-color: color-mix(in srgb, var(--c-accent) 70%, var(--c-surface));
}
.statusbar .seg-title { font-weight: 600; }
.statusbar .sb-center { justify-content: center; }
.statusbar .sb-right { justify-content: flex-end; }
.statusbar .seg-theme { font-weight: 500; }
.statusbar .seg-time { min-width: 4.5rem; text-align: center; }

/* Online/offline dot */
.statusbar .seg-net { gap: 0.35rem; }
.statusbar .seg-dot { width: 0.5rem; height: 0.5rem; border-radius: 9999px; box-shadow: 0 0 0 1px color-mix(in srgb, var(--c-text) 20%, var(--c-base)); }
.statusbar .seg-dot.online { background: var(--c-green-700); }
.statusbar .seg-dot.offline { background: var(--c-red-700); }

/* Loading indicator (indeterminate) */
.statusbar .sb-border { height: 2px; background: transparent; }
.statusbar.loading .sb-border {
	background: linear-gradient(90deg,
		transparent 0%,
		color-mix(in srgb, var(--c-accent) 50%, transparent) 50%,
		transparent 100%
	);
	background-size: 200% 100%;
	animation: sb-anim 1s linear infinite;
}
@keyframes sb-anim { from { background-position: 0 0; } to { background-position: 200% 0; } }

/* Screen-reader only utility */
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; }

.text-orange-600 { color: var(--c-orange-600) !important; }
.text-orange-700 { color: var(--c-orange-700) !important; }
.text-orange-800 { color: var(--c-orange-800) !important; }
.text-yellow-600 { color: var(--c-yellow-600) !important; }
.text-yellow-700 { color: var(--c-yellow-700) !important; }
.text-yellow-800 { color: var(--c-yellow-800) !important; }
.text-cyan-600 { color: var(--c-cyan-600) !important; }
.text-cyan-700 { color: var(--c-cyan-700) !important; }
.text-cyan-800 { color: var(--c-cyan-800) !important; }
.text-green-600 { color: var(--c-green-600) !important; }
.text-green-700 { color: var(--c-green-700) !important; }
.text-green-800 { color: var(--c-green-800) !important; }
.text-red-600 { color: var(--c-red-600) !important; }
.text-red-700 { color: var(--c-red-700) !important; }
.text-red-800 { color: var(--c-red-800) !important; }
.text-purple-600 { color: var(--c-purple-600) !important; }
.text-purple-700 { color: var(--c-purple-700) !important; }
.text-purple-800 { color: var(--c-purple-800) !important; }
.text-teal-600 { color: var(--c-teal-600) !important; }
.text-teal-700 { color: var(--c-teal-700) !important; }
.text-teal-800 { color: var(--c-teal-800) !important; }
.text-indigo-600 { color: var(--c-indigo-600) !important; }
.text-indigo-700 { color: var(--c-indigo-700) !important; }
.text-indigo-800 { color: var(--c-indigo-800) !important; }
